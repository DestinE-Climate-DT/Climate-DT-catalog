plugins:
  source:
    - module: intake_xarray

sources:

  monthly-zarr:
    description: monthly MSWEP_V280 data Past+NRT in zarr format
    driver: zarr
    metadata:
      source_grid_name: lon-lat
      fixer_name: MSWEP-default
    args:
      consolidated: False
      urlpath: 
      - '{{DVC_PATH}}/MSWEP/v2.8/zarr/mswep280.past-nrt.monthly.zarr'
  
  monthly-netcdf: &monthly-netcdf
    description: monthly MSWEP_V280 data Past+NRT in netcdf format
    driver: zarr
    metadata:
      source_grid_name: lon-lat
      fixer_name: MSWEP-default
    args:
      consolidated: False
      urlpath: 
      - '{{DVC_PATH}}/MSWEP/v2.8/netcdf/Past/monthly/MSWEP_v280_monthly_????.nc'
      - '{{DVC_PATH}}/MSWEP/v2.8/netcdf/NRT/monthly/MSWEP_v280_monthly_????.nc'

  #monthly-netcdf: &monthly-netcdf
  #  description: monthly MSWEP_V280 data Past+NRT in netcdf format
  #  driver: netcdf
  #  metadata:
  #    source_grid_name: lon-lat
  #    fixer_name: MSWEP-default
  #  args:
  #    urlpath: 
  #    - '{{DVC_PATH}}/MSWEP/v2.8/netcdf/Past/monthly/MSWEP_v280_monthly_????.nc'
  #    - '{{DVC_PATH}}/MSWEP/v2.8/netcdf/NRT/monthly/MSWEP_v280_monthly_????.nc'


  monthly:
    <<: *monthly-netcdf

  daily-zarr:
    description: daily MSWEP_V280 data Past+NRT in zarr format
    driver: zarr
    metadata:
      source_grid_name: lon-lat
      fixer_name: MSWEP-default
    args:
      consolidated: True
      urlpath: 
      - '{{DATA_PATH}}/MSWEP/v2.8/zarr/mswep280.past-nrt.daily.zarr'

  3hourly-zarr:
    description: 3-hourly MSWEP_V280 data Past+NRT in zarr format
    driver: zarr
    metadata:
      source_grid_name: lon-lat
      fixer_name: MSWEP-default
    args:
      consolidated: True
      urlpath: 
      - '{{DATA_PATH}}/MSWEP/v2.8/zarr/mswep280.past-nrt.3hourly.zarr'

