plugins:
  source:
    - module: intake_xarray

sources:
  monthly-zarr:
    description: monthly MSWEP_V280 data Past+NRT in zarr format
    driver: zarr
    metadata:
      source_grid_name: lon-lat
      fixer_name: MSWEP-default
    args:
      consolidated: True
        #chunks:
        # use_cftime: True
        # decode_times: False
      urlpath: 
      - '{{DATA_PATH}}/MSWEP/v2.8/zarr/past-nrt-monthly.zarr'
        #xarray_kwargs:
        # decode_times: True
        #use_cftime: True

  monthly:
    description: monthly MSWEP_V280 data Past+NRT in netcdf format
    driver: netcdf
    metadata:
      source_grid_name: lon-lat
      fixer_name: MSWEP-default
    args:
      urlpath: 
      - '{{DATA_PATH}}/MSWEP/v2.8/netcdf/Past/monthly/MSWEP_v280_monthly_????.nc'
      - '{{DATA_PATH}}/MSWEP/v2.8/netcdf/NRT/monthly/MSWEP_v280_monthly_????.nc'

  daily-zarr:
    description: daily MSWEP_V280 data Past+NRT in zarr format
    driver: zarr
    metadata:
      source_grid_name: lon-lat
      fixer_name: MSWEP-default
    args:
      consolidated: True
      urlpath: 
      - '{{DATA_PATH}}/MSWEP/v2.8/zarr/past-nrt-daily.zarr'

  daily:
    description: daily MSWEP_V280 data Past+NRT in netcdf format
    driver: netcdf
    metadata:
      source_grid_name: lon-lat
      fixer_name: MSWEP-default
    args:
      urlpath: 
      - '{{DATA_PATH}}/MSWEP/v2.8/netcdf/Past/daily/MSWEP_v280_daily_????.nc'
      - '{{DATA_PATH}}/MSWEP/v2.8/netcdf/NRT/daily/MSWEP_v280_daily_????.nc'

  # 3hourly:
  #   description: 3 hourly MSWEP_V280 data Past+NRT in zarr format
  #   driver: zarr
  #   metadata:
  #     source_grid_name: lon-lat
  #     fixer_name: MSWEP-default
  #   args:
  #     consolidated: True
  #     urlpath: 
  #     - '{{DATA_PATH}}/MSWEP/v2.8/zarr/past-nrt-3hourly.zarr' 

  # 3hourly-netcdf:
  #   description: 3 hourly MSWEP_V280 data Past+NRT in netcdf format
  #   driver: netcdf
  #   metadata:
  #     source_grid_name: lon-lat
  #     fixer_name: MSWEP-default
  #   args:
  #     urlpath: 
  #     - '{{DATA_PATH}}/MSWEP/v2.8/netcdf/Past/3hourly/???????.??.nc'
  #     - '{{DATA_PATH}}/MSWEP/v2.8/netcdf/NRT/3hourly/???????.??.nc'
      
      
